---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import PostCard from '../../components/PostCard.astro';
import Sidebar from '../../components/Sidebar.astro';

const retrospectives = (await getCollection('retrospectives')).sort(
	(a, b) => new Date(b.data.created).getTime() - new Date(a.data.created).getTime(),
);
---

<BaseLayout title="회고 목록">
	<div class="layout-grid">
		<Sidebar />

		<div class="main-column">
			<section class="block">
				<header class="block__header">
					<div>
						<p class="eyebrow">Retrospectives</p>
						<h1>회고</h1>
						<p class="lede">실제 서비스에서 부딪힌 문제와 해결 과정을 곧바로 적은 회고</p>
					</div>
				</header>
				<div class="list">
					{retrospectives.map((ret) => (
						<PostCard entry={ret as any} />
					))}
				</div>
			</section>
		</div>
	</div>
</BaseLayout>

