---
import BaseLayout from './BaseLayout.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
	entry: CollectionEntry<'posts'>;
}

const { entry } = Astro.props as Props;
const { Content } = await entry.render();
---

<BaseLayout title={entry.data.title} description={entry.data.summary}>
	<article class="article">
		<p class="eyebrow">Post · {entry.data.created}</p>
		<h1>{entry.data.title}</h1>
		{entry.data.tags && (
			<div class="chips">
				{entry.data.tags.map((tag) => {
					const params = new URLSearchParams({ tag, type: 'post' }).toString();
					return (
						<a class="chip" href={`/?${params}`} aria-label={`태그 ${tag}로 이동`}>
							{tag}
						</a>
					);
				})}
			</div>
		)}
		<div class="article__body">
			<Content />
		</div>
	</article>
</BaseLayout>

